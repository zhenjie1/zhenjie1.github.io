webpackJsonp([7],{"+Lcf":function(e,t){},SY0N:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={data:function(){return{code:"",time:59}},props:["phoneStr"],mounted:function(){this.codeNum(!1)},methods:{codeWatch:function(){this.code.length>=6&&this.$emit("pass",this.code.toString())},codeNum:function(e){var t=this;e&&this.time--;var s=setInterval(function(){t.time<=0?(t.time=60,clearInterval(s)):t.time--},1e3)}}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"newUser"},[s("div",{staticClass:"topTit"},[s("h1",[e._v("请输入验证码")]),e._v(" "),s("p",[e._v("验证码已发送至手机："),s("span",[e._v("+86 "+e._s(e.phoneStr))])])]),e._v(" "),s("div",{staticClass:"con"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"text",placeholder:"请您输入验证码"},domProps:{value:e.code},on:{keyup:e.codeWatch,input:function(t){t.target.composing||(e.code=t.target.value)}}})]),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:60!=e.time,expression:"time != 60"}]},[e._v("00:"+e._s(e.time)+" 秒后重发验证码")]),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:60==e.time,expression:"time == 60"}],on:{click:function(t){e.codeNum(!0)}}},[e._v("重新发送")])])])},staticRenderFns:[]};var i=s("VU/8")(n,a,!1,function(e){s("eLq5")},"data-v-7d408f9a",null).exports,o=s("K2f2"),r={data:function(){return{newPass:"",confirmPass:"",btnVal:"完成注册"}},props:["phoneStr","codeStr"],computed:{disabled:function(){return!!this.newPass&&!!this.confirmPass},phoneHide:function(){return this.phoneStr.substr(0,3)+"****"+this.phoneStr.substr(7,4)}},mounted:function(){void 0!==this.$route.params.phone&&(this.btnVal="确认修改")},methods:{registered:function(){var e=this;if(this.newPass!==this.confirmPass)return alert("两次密码不一致！"),!1;Object(o.u)(this.phoneStr,this.newPass,this.codeStr).then(function(t){alert(t.msg),2==t.code&&e.$router.push("/user/login")})}}},c={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"newUser"},[s("div",{staticClass:"topTit"},[s("h1",[e._v("设置密码")]),e._v(" "),s("p",[e._v("请为 "),s("span",[e._v(e._s(e.phoneHide))]),e._v(" 账号设置密码")])]),e._v(" "),s("div",{staticClass:"con"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newPass,expression:"newPass"}],attrs:{type:"password",placeholder:"新密码"},domProps:{value:e.newPass},on:{input:function(t){t.target.composing||(e.newPass=t.target.value)}}})]),e._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:e.confirmPass,expression:"confirmPass"}],attrs:{type:"password",placeholder:"确认新密码"},domProps:{value:e.confirmPass},on:{input:function(t){t.target.composing||(e.confirmPass=t.target.value)}}})]),e._v(" "),s("input",{staticClass:"submit",class:{active:e.disabled},attrs:{type:"button",value:e.btnVal,disabled:!e.disabled},on:{click:e.registered}})])])},staticRenderFns:[]};var d={data:function(){return{phone:"",childIndex:0,code:""}},components:{MyCode:i,Pass:s("VU/8")(r,c,!1,function(e){s("dWo1")},"data-v-ab3211d4",null).exports},mounted:function(){void 0!==this.$route.params.status&&(this.childIndex=this.$route.params.status),void 0!==this.$route.params.phone&&(this.phone=this.$route.params.phone,this.code=this.$route.params.code,this.isReg=!1)},methods:{reloadPass:function(e){var t=this;Object(o.e)(e).then(function(s){2!=s.code?alert(s.msg):(t.code=e,t.childIndex=2)})},next:function(){var e=this;Object(o.t)(this.phone).then(function(t){t&&2==t.code&&(e.childIndex=1)})}}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"newUser"},[e._m(0),e._v(" "),s("div",{staticClass:"con"},[s("p",[e._v("手机号码")]),e._v(" "),s("label",[s("span",[e._v("+86")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.phone,expression:"phone"}],attrs:{type:"text",placeholder:"请您输入手机号"},domProps:{value:e.phone},on:{input:function(t){t.target.composing||(e.phone=t.target.value)}}})]),e._v(" "),s("input",{staticClass:"submit",class:{active:""!=e.phone},attrs:{type:"button",value:"下一步",disabled:""==e.phone},on:{click:e.next}})]),e._v(" "),e._m(1),e._v(" "),s("transition",{attrs:{name:"breadcrumb"}},[1==e.childIndex?s("my-code",{attrs:{phoneStr:e.phone},on:{pass:e.reloadPass}}):e._e(),e._v(" "),2==e.childIndex?s("pass",{attrs:{phoneStr:e.phone,codeStr:e.code}}):e._e()],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"topTit"},[t("h1",[this._v("新用户注册")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"prompt"},[t("p",[this._v("点击【下一步】即表示您同意协议：")]),this._v(" "),t("a",[this._v("《服务协议》")])])}]};var l=s("VU/8")(d,u,!1,function(e){s("+Lcf")},null,null);t.default=l.exports},dWo1:function(e,t){},eLq5:function(e,t){}});