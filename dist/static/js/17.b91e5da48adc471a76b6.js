webpackJsonp([17],{I7TW:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("4YfN"),n=e.n(s),i=e("yclV"),c=e("K2f2"),o=e("JGLT"),r=e("9rMa"),l=(n()({},Object(r.mapState)(["userInfo"])),o.a,{data:function(){return{detaData:[],status:"",userType:"",showCancel:!1,showCancelRefuse:!1}},computed:n()({},Object(r.mapState)(["userInfo"])),components:{Confirm:o.a},methods:{cancelRefuseEv:function(t){var a=this;""!=t?Object(c.h)(this.detaData.id,t).then(function(t){t&&2==t.code&&a.$router.go(-1)}):this.$vux.toast.text("请输入拒绝理由！")},localItem:function(t){setStore("viewCurrentData",t)},cancelEv:function(t){var a=this;""!=t?Object(c.i)(this.detaData.id,t).then(function(t){t&&2==t.code&&a.$router.go(-1)}):this.$vux.toast.text("请输入取消理由！")},qxorder:function(){this.showCancel=!0},jjorder:function(){this.showCancelRefuse=!0},enterMap:function(){sessionStorage.lngLat=this.detaData.jingwei}},created:function(){var t=this;switch(this.userType=this.userInfo.userType,this.detaData=Object(i.a)("viewCurrentData"),Object(c.C)(this.detaData.id).then(function(a){t.detaData=a.rows,t.detaData.stateId=parseInt(t.detaData.stateId)}),this.detaData.stateId){case 0:this.status="未接单";break;case 1:this.status="等待出发";break;case 2:this.status="在途中";break;case 3:this.status="施救中";break;case 4:this.status="已完成"}}}),d={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"details"},[s("div",{staticClass:"rescueInfo"},[s("div",{staticClass:"init"},[s("p",[t._v("救援单号："),s("span",[t._v(t._s(t.detaData.uuid))])]),t._v(" "),s("p",[t._v("救援类型："),s("span",[t._v(t._s(t._f("Rescue")(t.detaData.rangeId)))])]),t._v(" "),s("p",[t._v("呼救时间："),s("span",[t._v(t._s(t.detaData.createDate))])])]),t._v(" "),s("div",{staticClass:"rescueBtn"},[0!=t.detaData.stateId&&99!=t.detaData.stateId?s("router-link",{staticClass:"progress",attrs:{tag:"div",to:"progress"}},[t._v("救援进展")]):t._e(),t._v(" "),3==t.userType&&0==t.detaData.stateId?s("div",{staticClass:"cancel",on:{click:t.qxorder}},[t._v("取消订单")]):t._e(),t._v(" "),3!=t.userType&&0==t.detaData.stateId?s("div",{staticClass:"cancel",on:{click:t.jjorder}},[t._v("拒绝订单")]):t._e()],1)]),t._v(" "),s("div",{staticClass:"rescueDetails"},[s("div",{staticClass:"tit"},[s("img",{attrs:{src:e("a8gr"),alt:""}}),t._v(" "),s("div",{staticClass:"r"},[s("h3",[t._v(t._s(t.detaData.office.name)),s("span",[t._v(t._s(this.status))])]),t._v(" "),s("p",[t._v("接单时间："),s("span",[t._v(t._s(t.detaData.acceptDate))])])])]),t._v(" "),s("div",{staticClass:"content"},[s("ul",[s("li",[s("i",{staticClass:"iconfont icon-icon-test"}),t._v(" "),s("p",[s("b",[t._v("所需物品")]),t._v(" "),t._l(t.detaData.ordersPartsList,function(a,e){return s("span",{key:e},[t._v(t._s(a.name))])})],2)]),t._v(" "),s("li",[s("i",{staticClass:"iconfont icon-dingdan2"}),t._v(" "),s("p",[s("b",[t._v("详情")]),t._v(" "),s("span",[t._v(t._s(t.detaData.details||"无"))])])]),t._v(" "),s("li",[s("i",{staticClass:"iconfont icon-gantanhao"}),t._v(" "),s("p",[s("b",[t._v("备注")]),t._v(" "),s("span",[t._v(t._s(t.detaData.remarks||"无"))])])])]),t._v(" "),3!=t.userType?s("router-link",{staticClass:"map",attrs:{to:"/rescue/map",tag:"div"},on:{click:t.enterMap}},[s("i",{staticClass:"iconfont icon-weizhi"}),t._v(" "),s("span",[t._v(t._s(t.detaData.place))])]):s("div",{staticClass:"map"},[s("i",{staticClass:"iconfont icon-weizhi"}),t._v(" "),s("span",[t._v(t._s(t.detaData.place))])])],1)]),t._v(" "),3!=t.userType?s("div",{staticClass:"duiyuan"},[s("p",[t._v("参与救援的队员")]),t._v(" "),s("ul",t._l(t.detaData.rescueNames,function(a,e){return s("li",{key:e},[t._v(t._s(a.name))])}))]):t._e(),t._v(" "),s("confirm",{attrs:{"hide-on-blur":!0,"show-input":!0,placeholder:"请输入取消理由",title:"取消理由",theme:"android","confirm-text":"确定","cancel-text":"取消"},on:{"on-confirm":t.cancelEv},model:{value:t.showCancel,callback:function(a){t.showCancel=a},expression:"showCancel"}}),t._v(" "),s("confirm",{attrs:{"hide-on-blur":!0,"show-input":!0,placeholder:"请输入拒绝理由",title:"拒绝理由",theme:"android","confirm-text":"确定","cancel-text":"取消"},on:{"on-confirm":t.cancelRefuseEv},model:{value:t.showCancelRefuse,callback:function(a){t.showCancelRefuse=a},expression:"showCancelRefuse"}})],1)},staticRenderFns:[]};var u=e("C7Lr")(l,d,!1,function(t){e("NpQN")},"data-v-fb883e64",null);a.default=u.exports},NpQN:function(t,a){},a8gr:function(t,a,e){t.exports=e.p+"static/img/rescueDefault.jpg"}});